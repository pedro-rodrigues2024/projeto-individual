<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vantagens e desvantagens na prática</title>
  <link rel="stylesheet" href="formulario_luta-tipo.css">
</head>

<body style="font-family: Inter;">
  <div class="TiagensPage">
    <div class="header">
      <div class="container-topo">
        <nav>
          <div class="navbar">
            <a href="index.html">
              <img src="imagens/logo.png" alt="Logo" class="logo-navbar">
            </a>
            <ul class="ul">
              <a href="index.html">PrimeBlog</a> </li>
              <li>|</li>
              <li id="cadastro"> <a class="btn" href="cadastro.html">Cadastro</a> </li>
              <li>|</li>
              <li id="login"> <a class="btn" href="login.html">Entrar</a> </li>
          </div>
        </nav>
      </div>
    </div>

    <div class="container">
    </div>

    <div class="Divisao"></div>
    <div class="banner">
      <div class="container">
        <div class="caixa_formulario">
          <div class="formulario">
          </div>
        </div>
      </div>
    </div>

    <a href="tipagens.html"><button onclick="voltar()">Tipos</button></a>
  </div>
  <div class="Divisao"></div>

  <div style="display: flex; justify-content: center;">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <select id="tipoAtacante">
        <option value="op0">Escolha seu Pokémon</option>
        <option value="normal">Snorlax, tipo Normal / Normal</option>
        <option value="eletrico">Jolteon, tipo Elétrico / Electric</option>
        <option value="lutador">Hitmonlee, tipo Lutador / Fighting</option>
        <option value="voador">Tornadus, tipo Voador / Flying</option>
        <option value="pedra">Gigalith, tipo Pedra / Rock</option>
        <option value="sombrio">Zoroark, tipo Sombrio / Dark</option>
        <option value="fogo">Arcanine, tipo Fogo / Fire</option>
        <option value="planta">Sceptile, tipo Planta / Grass</option>
        <option value="venenoso"> Arbok, tipo Venenoso / Poison</option>
        <option value="psiquico">Alakazam, tipo Psiquico / Psychic</option>
        <option value="fantasma">Banette, tipo Fantasma / Ghost</option>
        <option value="metal">Melmetal, tipo Metal / Steel</option>
        <option value="agua">Blastoise, tipo Água / Water</option>
        <option value="gelo">Glalie, tipo Gelo / Ice</option>
        <option value="terra">Sandslash, tipo Terra / Ground</option>
        <option value="inseto">Pinsir, tipo Inseto / Bug</option>
        <option value="dragao">Haxorus, tipo Dragão / Dragon</option>
        <option value="fada">Sylveon, tipo Fada / Fairy</option>
      </select>
      <div id="image-display1">Qual o seu Pokémon?</div>
    </div>
    <img src="imagens/vs.jpeg" style="align-self: center;">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <select id="tipoDefensor">
        <option value="op0">Escolha seu Pokémon</option>
        <option value="normal">Snorlax, tipo Normal / Normal</option>
        <option value="eletrico">Jolteon, tipo Elétrico / Electric</option>
        <option value="lutador">Hitmonlee, tipo Lutador / Fighting</option>
        <option value="voador">Tornadus, tipo Voador / Flying</option>
        <option value="pedra">Gigalith, tipo Pedra / Rock</option>
        <option value="sombrio">Zoroark, tipo Sombrio / Dark</option>
        <option value="fogo">Arcanine, tipo Fogo / Fire</option>
        <option value="planta">Sceptile, tipo Planta / Grass</option>
        <option value="venenoso"> Arbok, tipo Venenoso / Poison</option>
        <option value="psiquico">Alakazam, tipo Psiquico / Psychic</option>
        <option value="fantasma">Banette, tipo Fantasma / Ghost</option>
        <option value="metal">Melmetal, tipo Metal / Steel</option>
        <option value="agua">Blastoise, tipo Água / Water</option>
        <option value="gelo">Glalie, tipo Gelo / Ice</option>
        <option value="terra">Sandslash, tipo Terra / Ground</option>
        <option value="inseto">Pinsir, tipo Inseto / Bug</option>
        <option value="dragao">Haxorus, tipo Dragão / Dragon</option>
        <option value="fada">Sylveon, tipo Fada / Fairy</option>
      </select>
      <div id="image-display2">Qual o seu Pokémon?</div>
    </div>
  </div>

  <div id="div_mensagem"></div> <br>

  <div id="defensor-hp" class="health-bar" style="width: 100%; background-color: green; height: 20px;"></div>
  <div style="display: flex; flex-direction: column; align-items: center;"></div>
  <div>
    <button id="ataque1" onclick="atacar('ataque1')">Ataque 1</button>
    <button id="ataque2" onclick="atacar('ataque2')">Ataque 2</button>
    <button id="ataque3" onclick="atacar('ataque3')">Ataque 3</button>
    <button id="ataque4" onclick="atacar('ataque4')">Ataque 4</button>
  </div>

  <div id="atacante-hp" class="health-bar" style="width: 100%; background-color: green; height: 20px;"></div>
  <div>
    <button id="defesa1" onclick="defender('defesa1')">Ataque 1</button>
    <button id="defesa2" onclick="defender('defesa2')">Ataque 2</button>
    <button id="defesa3" onclick="defender('defesa3')">Ataque 3</button>
    <button id="defesa4" onclick="defender('defesa4')">Ataque 4</button>
  </div>

  <div id="acao-lista">
    <h3>Ações realizadas:</h3>
    <ul id="acoes"></ul>
  </div>

  <style>
    body {
      font-family: Arial, sans-serif;
    }

    #image-display1,
    #image-display2 {
      width: 200px;
      height: 200px;
      background-size: cover;
      background-position: center;
      margin: 10px;
    }

    .image-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }

    .health-bar {
      width: 100%;
      height: 20px;
      background-color: green;
      margin: 5px 0;
    }

    button {
      margin: 5px;
      padding: 10px;
      background-color: lightblue;
      border: none;
      cursor: pointer;
    }

    .selected {
      border: 2px solid blue;
    }

    .hidden {
      display: none;
    }
  </style>

  <script>
    const pokemons = {
      normal: "imagens/snorlax.png",
      eletrico: "imagens/jolteon.png",
      lutador: "imagens/hitmonlee.png",
      voador: "imagens/tornadus.png",
      pedra: "imagens/gigalith.png",
      sombrio: "imagens/zoroark.png",
      fogo: "imagens/arcanine.png",
      planta: "imagens/sceptile.png",
      venenoso: "imagens/arbok.png",
      psiquico: "imagens/alakazam.png",
      fantasma: "imagens/banette.png",
      metal: "imagens/melmetal.png",
      agua: "imagens/blastoise.png",
      gelo: "imagens/glalie.png",
      terra: "imagens/sandslash.png",
      inseto: "imagens/pinsir.png",
      dragao: "imagens/haxorus.png",
      fada: "imagens/sylveon.png",
    };

    let atacanteNome = "";
    let defensorNome = "";
    let atacanteTipo = "";
    let defensorTipo = "";

    const tipoVantagens = {
      normal: { forte: [], fraco: ["pedra", "metal"], imune: ["fantasma"] },
      eletrico: { forte: ["agua", "voador"], fraco: ["planta", "dragao", "eletrico"], imune: ["terra"] },
      lutador: { forte: ["normal", "pedra", "metal", "gelo", "sombrio"], fraco: ["voador", "venenoso", "psiquico", "inseto", "fada"], imune: ["fantasma"] },
      voador: { forte: ["lutador", "inseto", "planta"], fraco: ["pedra", "metal", "eletrico"], imune: [] },
      pedra: { forte: ["fogo", "voador", "inseto", "gelo"], fraco: ["lutador", "terra", "metal"], imune: [] },
      sombrio: { forte: ["psiquico", "fantasma"], fraco: ["lutador", "sombrio", "fada"], imune: [] },
      fogo: { forte: ["planta", "gelo", "metal", "inseto"], fraco: ["fogo", "agua", "pedra", "dragao"], imune: [] },
      planta: { forte: ["agua", "terra", "pedra"], fraco: ["fogo", "planta", "voador", "venenoso", "inseto", "dragao", "metal"], imune: [] },
      venenoso: { forte: ["planta", "fada"], fraco: ["venenoso", "terra", "pedra", "fantasma"], imune: ["metal"] },
      psiquico: { forte: ["lutador", "venenoso"], fraco: ["psiquico", "metal"], imune: ["sombrio"] },
      fantasma: { forte: ["psiquico", "fantasma"], fraco: ["sombrio", "metal"], imune: ["normal"] },
      metal: { forte: ["pedra", "fada", "gelo"], fraco: ["fogo", "agua", "eletrico", "metal"], imune: [] },
      agua: { forte: ["fogo", "terra", "pedra"], fraco: ["agua", "planta", "dragao"], imune: [] },
      gelo: { forte: ["planta", "terra", "dragao", "voador"], fraco: ["fogo", "agua", "metal", "gelo"], imune: [] },
      terra: { forte: ["fogo", "eletrico", "venenoso", "pedra", "metal"], fraco: ["planta", "inseto"], imune: ["voador"] },
      inseto: { forte: ["planta", "psiquico", "sombrio"], fraco: ["fogo", "lutador", "voador", "fantasma", "metal", "venenoso", "fada"], imune: [] },
      dragao: { forte: ["dragao"], fraco: ["metal"], imune: ["fada"] },
      fada: { forte: ["lutador", "dragao", "sombrio"], fraco: ["fogo", "venenoso", "metal"], imune: [] },
    };

    document.getElementById("tipoAtacante").addEventListener("change", function () {
      const tipo = this.value;
      const imageUrl = pokemons[tipo] || "";
      const imageDisplay1 = document.getElementById("image-display1");

      if (imageUrl) {
        imageDisplay1.style.backgroundImage = `url(${imageUrl})`;
        atacanteNome = this.options[this.selectedIndex].text.split(",")[0];
        atacanteTipo = tipo;
      } else {
        imageDisplay1.style.backgroundImage = "";
        imageDisplay1.textContent = "Qual o seu Pokémon?";
        atacanteNome = "";
        atacanteTipo = "";
      }
      updateAtaques(tipo);
    });

    document.getElementById("tipoDefensor").addEventListener("change", function () {
      const tipo = this.value;
      const imageUrl = pokemons[tipo] || "";
      const imageDisplay2 = document.getElementById("image-display2");

      if (imageUrl) {
        imageDisplay2.style.backgroundImage = `url(${imageUrl})`;
        defensorNome = this.options[this.selectedIndex].text.split(",")[0];
        defensorTipo = tipo;
      } else {
        imageDisplay2.style.backgroundImage = "";
        imageDisplay2.textContent = "Qual o seu Pokémon?";
        defensorNome = "";
        defensorTipo = "";
      }
      updateDefensor(tipo);
    });

    const ataques = {
      normal: ["Investida", "Cabeçada", "Amnésia", "Descanso"],
      eletrico: ["Choque do Trovão", "Onda de Choque", "Raio", "Cauda de Ferro"],
      lutador: ["Chute Baixo", "Chute Circular", "Chute Triplo", "Mega Soco"],
      voador: ["Ataque de Asa", "Ataque Aéreo", "Dança das Penas", "Acrobacia"],
      pedra: ["Deslize de Pedras", "Lâmina de Pedra", "Explosão de Pedras", "Tempestade de Areia"],
      sombrio: ["Ataque Noturno", "Ataque Sombrio", "Punho das Sombras", "Armadura Sombria"],
      fogo: ["Lança-Chamas", "Queimadura", "Chama da Vingança", "Erupção"],
      planta: ["Folha Navalha", "Chicote de Cipó", "Raio Solar", "Semente Sanguessuga"],
      venenoso: ["Jato de Veneno", "Gás Venenoso", "Bomba de Lodo", "Golpe Venenoso"],
      psiquico: ["Confusão", "Psybeam", "Psyshock", "Campo Psíquico"],
      fantasma: ["Bola Sombria", "Assombração", "Punho Fantasma", "Campo Fantasma"],
      metal: ["Canhão de Flash", "Garra de Metal", "Cabeçada de Ferro", "Lâmina de Ferro"],
      agua: ["Jato de Água", "Hidro Bomba", "Pulso de Água", "Dança da Chuva"],
      gelo: ["Rajada de Gelo", "Lança de Gelo", "Tempestade de Neve", "Congelamento"],
      terra: ["Terremoto", "Fissura", "Caveira de Terra", "Deslizamento de Terra"],
      inseto: ["Picada de Inseto", "Pó de Vento", "Mordida de Inseto", "Defesa de Casulo"],
      dragao: ["Sopro de Dragão", "Fúria do Dragão", "Garra de Dragão", "Pulso do Dragão"],
      fada: ["Vento Encantado", "Brilho Mágico", "Bajulação", "Armadura de Fada"],
    };

    function updateAtaques(tipo) {
      const ataquesPokemon = ataques[tipo];
      const ataqueButtons = document.querySelectorAll("#ataque1, #ataque2, #ataque3, #ataque4");
      ataqueButtons.forEach((button, index) => {
        if (ataquesPokemon[index]) {
          button.textContent = ataquesPokemon[index];
          button.classList.remove("hidden");
        } else {
          button.classList.add("hidden");
        }
      });
    }

    function updateDefensor(tipo) {
      const defesasPokemon = ataques[tipo];
      const defesaButtons = document.querySelectorAll("#defesa1, #defesa2, #defesa3, #defesa4");
      defesaButtons.forEach((button, index) => {
        if (defesasPokemon[index]) {
          button.textContent = defesasPokemon[index];
          button.classList.remove("hidden");
        } else {
          button.classList.add("hidden");
        }
      });
    }

    function calcularDano(tipoAtacante, tipoDefensor) {
      const vantagens = tipoVantagens[tipoAtacante] || { forte: [], fraco: [], imune: [] };
      if (vantagens.imune.includes(tipoDefensor)) {
        return 0;
      } else if (vantagens.forte.includes(tipoDefensor)) {
        return 20;
      } else if (vantagens.fraco.includes(tipoDefensor)) {
        return 5;
      } else {
        return 10;
      }
    }

    function atualizarBarraVida(elementId, dano) {
      const barra = document.getElementById(elementId);
      const larguraAtual = parseInt(barra.style.width);
      const novaLargura = Math.max(larguraAtual - dano, 0);
      barra.style.width = `${novaLargura}%`;
      if (novaLargura > 50) {
        barra.style.backgroundColor = "green";
      } else if (novaLargura > 20) {
        barra.style.backgroundColor = "yellow";
      } else {
        barra.style.backgroundColor = "red";
      }
      return novaLargura;
    }

    function adicionarAcaoLista(acao) {
      const listaAcoes = document.getElementById("acoes");
      const novoItem = document.createElement("li");
      novoItem.textContent = acao;
      listaAcoes.appendChild(novoItem);
    }

    function atacar(id) {
      if (!atacanteNome || !defensorNome) {
        alert("Por favor, escolha ambos os Pokémon antes de começar a luta.");
        return;
      }

      const ataquesAtacante = ataques[atacanteTipo];
      const indexAtaque = parseInt(id.replace("ataque", "")) - 1;
      const ataqueEscolhido = ataquesAtacante[indexAtaque];

      const dano = calcularDano(atacanteTipo, defensorTipo);
      const novaVidaDefensor = atualizarBarraVida("defensor-hp", dano);

      adicionarAcaoLista(`${atacanteNome} usou ${ataqueEscolhido} causando ${dano} de dano no ${defensorNome}.`);

      if (novaVidaDefensor === 0) {
        alert(`${defensorNome} foi derrotado!`);
        adicionarAcaoLista(`${defensorNome} foi derrotado!`);
      }
    }

    function defender(id) {
      if (!atacanteNome || !defensorNome) {
        alert("Por favor, escolha ambos os Pokémon antes de começar a luta.");
        return;
      }

      const ataquesDefensor = ataques[defensorTipo];
      const indexAtaque = parseInt(id.replace("defesa", "")) - 1;
      const ataqueEscolhido = ataquesDefensor[indexAtaque];

      const dano = calcularDano(defensorTipo, atacanteTipo);
      const novaVidaAtacante = atualizarBarraVida("atacante-hp", dano);

      adicionarAcaoLista(`${defensorNome} usou ${ataqueEscolhido} causando ${dano} de dano no ${atacanteNome}.`);

      if (novaVidaAtacante === 0) {
        alert(`${atacanteNome} foi derrotado!`);
        adicionarAcaoLista(`${atacanteNome} foi derrotado!`);
      }
    }
  </script>
</body>

</html>

